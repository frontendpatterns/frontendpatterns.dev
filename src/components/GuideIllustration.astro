---
const { slug, title } = Astro.props;

const illustrations = new Map([
	[
		"choosing-css-strategy",
		{
			gradient: "from-sky-400 via-cyan-500 to-blue-600",
			paths: [
				{
					d: "M20 14h18l10 10v26a4 4 0 0 1-4 4H20a4 4 0 0 1-4-4V18a4 4 0 0 1 4-4z",
					opacity: 0.18,
				},
				{ d: "M38 14v8h8", opacity: 0.25 },
			],
			strokes: [
				{
					d: "M20 14h18l10 10v26a4 4 0 0 1-4 4H20a4 4 0 0 1-4-4V18a4 4 0 0 1 4-4z",
					strokeWidth: 1.8,
					strokeLinejoin: "round",
					opacity: 0.75,
				},
				{
					d: "M38 14v8h8",
					strokeWidth: 1.8,
					strokeLinejoin: "round",
					opacity: 0.65,
				},
				{
					d: "M24 22h16",
					strokeWidth: 1.4,
					opacity: 0.45,
					strokeLinecap: "round",
				},
				{
					d: "M24 28c-3 1-3 7 0 8",
					strokeWidth: 1.6,
					opacity: 0.8,
				},
				{
					d: "M40 28c3 1 3 7 0 8",
					strokeWidth: 1.6,
					opacity: 0.8,
				},
				{
					d: "M32 28v8",
					strokeWidth: 1.6,
					opacity: 0.8,
					strokeLinecap: "round",
				},
				{
					d: "M24 40h16",
					strokeWidth: 1.4,
					opacity: 0.45,
					strokeLinecap: "round",
				},
			],
		},
	],
	[
		"choosing-rendering-strategy",
		{
			gradient: "from-violet-500 via-indigo-500 to-slate-900",
			paths: [
				{
					d: "M16 18h32a4 4 0 0 1 4 4v24H16z",
					opacity: 0.2,
				},
				{ d: "M22 26h26v18H22z", opacity: 0.28 },
			],
			circles: [
				{ cx: 22, cy: 22, r: 1.4, opacity: 0.7 },
				{ cx: 26, cy: 22, r: 1.4, opacity: 0.5 },
				{ cx: 30, cy: 22, r: 1.4, opacity: 0.35 },
			],
			strokes: [
				{
					d: "M16 18h32a4 4 0 0 1 4 4v24H16z",
					strokeWidth: 1.8,
					strokeLinejoin: "round",
					opacity: 0.75,
				},
				{
					d: "M16 24h40",
					strokeWidth: 1.3,
					opacity: 0.55,
					strokeLinecap: "round",
				},
				{
					d: "M22 26h26v18H22z",
					strokeWidth: 1.6,
					strokeLinejoin: "round",
					opacity: 0.7,
				},
				{
					d: "M28 34h14",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M28 38h10",
					strokeWidth: 1.6,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M42 34l6 6-6 6",
					strokeWidth: 1.8,
					opacity: 0.7,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
				{
					d: "M22 34l-6 6 6 6",
					strokeWidth: 1.8,
					opacity: 0.7,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
			],
		},
	],
	[
		"securing-frontend-data-flows",
		{
			gradient: "from-emerald-500 via-teal-500 to-sky-600",
			paths: [
				{
					d: "M32 14c10 0 18 8 18 18v12l-18 10-18-10V32c0-10 8-18 18-18z",
					opacity: 0.2,
				},
			],
			circles: [{ cx: 32, cy: 34, r: 2, opacity: 0.6 }],
			strokes: [
				{
					d: "M32 14c10 0 18 8 18 18v12l-18 10-18-10V32c0-10 8-18 18-18z",
					strokeWidth: 1.8,
					opacity: 0.75,
					strokeLinejoin: "round",
				},
				{
					d: "M32 28a6 6 0 0 0-6 6v6h12v-6a6 6 0 0 0-6-6z",
					strokeWidth: 1.8,
					opacity: 0.8,
					strokeLinejoin: "round",
				},
				{
					d: "M32 28v-4",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M26 40h12",
					strokeWidth: 1.6,
					opacity: 0.6,
					strokeLinecap: "round",
				},
			],
		},
	],
	[
		"optimizing-perceived-performance",
		{
			gradient: "from-amber-400 via-orange-500 to-rose-500",
			paths: [
				{
					d: "M32 16a20 20 0 0 1 20 20H12A20 20 0 0 1 32 16z",
					opacity: 0.18,
				},
			],
			strokes: [
				{
					d: "M32 16a20 20 0 0 1 20 20H12A20 20 0 0 1 32 16z",
					strokeWidth: 1.8,
					opacity: 0.75,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
				{
					d: "M32 20a16 16 0 0 1 16 16",
					strokeWidth: 1.3,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M32 20a16 16 0 0 0-16 16",
					strokeWidth: 1.3,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M32 20v12",
					strokeWidth: 1.8,
					opacity: 0.8,
					strokeLinecap: "round",
				},
				{
					d: "M32 32l8 10",
					strokeWidth: 1.8,
					opacity: 0.85,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
				{
					d: "M20 36h4",
					strokeWidth: 1.2,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M40 36h4",
					strokeWidth: 1.2,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M24 28l-2 4",
					strokeWidth: 1.2,
					opacity: 0.55,
					strokeLinecap: "round",
				},
				{
					d: "M40 28l2 4",
					strokeWidth: 1.2,
					opacity: 0.55,
					strokeLinecap: "round",
				},
			],
		},
	],
	[
		"managing-async-ux-states",
		{
			gradient: "from-blue-500 via-sky-500 to-emerald-500",
			paths: [
				{
					d: "M18 24c0-4 3-7 7-7h14c4 0 7 3 7 7 0 3-2 6-5 7 3 1 5 4 5 7 0 4-3 7-7 7H25c-4 0-7-3-7-7 0-3 2-6 5-7-3-1-5-4-5-7z",
					opacity: 0.15,
				},
			],
			circles: [
				{ cx: 24, cy: 24, r: 3.2, opacity: 0.55 },
				{ cx: 40, cy: 24, r: 3.2, opacity: 0.55 },
				{ cx: 24, cy: 40, r: 3.2, opacity: 0.55 },
				{ cx: 40, cy: 40, r: 3.2, opacity: 0.55 },
				{ cx: 32, cy: 32, r: 3, opacity: 0.45 },
			],
			strokes: [
				{
					d: "M24 24h16",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M24 40h16",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M24 24l16 16",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M40 24l-16 16",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M32 20v8",
					strokeWidth: 1.6,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M32 36v8",
					strokeWidth: 1.6,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M20 24l4 4",
					strokeWidth: 1.2,
					opacity: 0.5,
					strokeLinecap: "round",
				},
				{
					d: "M44 24l-4 4",
					strokeWidth: 1.2,
					opacity: 0.5,
					strokeLinecap: "round",
				},
				{
					d: "M24 44l4-4",
					strokeWidth: 1.2,
					opacity: 0.5,
					strokeLinecap: "round",
				},
				{
					d: "M40 44l-4-4",
					strokeWidth: 1.2,
					opacity: 0.5,
					strokeLinecap: "round",
				},
			],
		},
	],
	[
		"accessible-interaction-playbook",
		{
			gradient: "from-fuchsia-500 via-purple-500 to-sky-500",
			paths: [
				{
					d: "M32 18a14 14 0 1 1 0 28 14 14 0 0 1 0-28z",
					opacity: 0.18,
				},
				{
					d: "M32 23a9 9 0 1 1 0 18 9 9 0 0 1 0-18z",
					opacity: 0.1,
				},
			],
			circles: [{ cx: 32, cy: 32, r: 3, opacity: 0.7 }],
			strokes: [
				{
					d: "M32 18a14 14 0 1 1 0 28 14 14 0 0 1 0-28z",
					strokeWidth: 1.8,
					opacity: 0.75,
				},
				{
					d: "M32 22a10 10 0 1 1 0 20 10 10 0 0 1 0-20z",
					strokeWidth: 1.4,
					opacity: 0.55,
					strokeDasharray: "4 3",
				},
				{
					d: "M24 32h16",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M32 24v16",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
				},
				{
					d: "M26 26l12 12",
					strokeWidth: 1.3,
					opacity: 0.55,
					strokeLinecap: "round",
				},
				{
					d: "M38 26l-12 12",
					strokeWidth: 1.3,
					opacity: 0.55,
					strokeLinecap: "round",
				},
			],
		},
	],
	[
		"testing-confidence-ladder",
		{
			gradient: "from-slate-500 via-slate-600 to-slate-900",
			paths: [
				{
					d: "M24 14h16a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H24a4 4 0 0 1-4-4V18a4 4 0 0 1 4-4z",
					opacity: 0.2,
				},
				{ d: "M28 12h8v6h-8z", opacity: 0.25 },
			],
			strokes: [
				{
					d: "M24 14h16a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H24a4 4 0 0 1-4-4V18a4 4 0 0 1 4-4z",
					strokeWidth: 1.8,
					opacity: 0.75,
					strokeLinejoin: "round",
				},
				{
					d: "M28 12h8v6h-8z",
					strokeWidth: 1.6,
					opacity: 0.65,
					strokeLinejoin: "round",
				},
				{
					d: "M24 26h12",
					strokeWidth: 1.4,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M24 34h12",
					strokeWidth: 1.4,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M24 42h12",
					strokeWidth: 1.4,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M40 26l3 3 5-5",
					strokeWidth: 1.6,
					opacity: 0.75,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
				{
					d: "M40 34l3 3 5-5",
					strokeWidth: 1.6,
					opacity: 0.75,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
				{
					d: "M40 42l3 3 5-5",
					strokeWidth: 1.6,
					opacity: 0.75,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
			],
		},
	],
	[
		"frontend-observability-and-diagnostics",
		{
			gradient: "from-indigo-500 via-blue-600 to-cyan-500",
			paths: [
				{
					d: "M32 16a16 16 0 1 1 0 32 16 16 0 0 1 0-32z",
					opacity: 0.18,
				},
				{
					d: "M32 22a10 10 0 1 1 0 20 10 10 0 0 1 0-20z",
					opacity: 0.12,
				},
			],
			circles: [
				{ cx: 32, cy: 32, r: 4, opacity: 0.7 },
				{ cx: 44, cy: 24, r: 2, opacity: 0.6 },
			],
			strokes: [
				{
					d: "M32 16a16 16 0 1 1 0 32 16 16 0 0 1 0-32z",
					strokeWidth: 1.8,
					opacity: 0.75,
				},
				{
					d: "M32 16v32",
					strokeWidth: 1.4,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M16 32h32",
					strokeWidth: 1.4,
					opacity: 0.6,
					strokeLinecap: "round",
				},
				{
					d: "M32 32l10-10",
					strokeWidth: 1.6,
					opacity: 0.7,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
				{
					d: "M32 32l8 14",
					strokeWidth: 1.4,
					opacity: 0.6,
					strokeLinecap: "round",
					strokeLinejoin: "round",
				},
				{
					d: "M24 28a6 6 0 1 1 0 8",
					strokeWidth: 1.2,
					opacity: 0.55,
					strokeLinecap: "round",
				},
			],
		},
	],
]);

const fallback = {
	gradient: "from-slate-400 via-slate-500 to-slate-700",
	paths: [
		{ d: "M18 18h28v6H18z", opacity: 0.3 },
		{ d: "M18 30h28v6H18z", opacity: 0.45 },
		{ d: "M18 42h28v6H18z", opacity: 0.6 },
	],
};

const illustration = { ...fallback, ...(illustrations.get(slug) ?? {}) };

const paths =
	Array.isArray(illustration.paths) && illustration.paths.length > 0
		? illustration.paths
		: fallback.paths;

const circles = illustration.circles ?? [];
const strokes = illustration.strokes ?? [];
---

<figure
	class={`relative flex h-20 w-20 shrink-0 items-center justify-center overflow-hidden rounded-xl bg-gradient-to-br md:h-24 md:w-24 ${illustration.gradient}`}
	aria-hidden="true"
>
	<svg
		viewBox="0 0 64 64"
		xmlns="http://www.w3.org/2000/svg"
		class="h-full w-full p-3 text-white/65"
		fill="none"
		preserveAspectRatio="xMidYMid meet"
	>
		{paths.map((path, index) => {
			const data = typeof path === "string" ? { d: path } : path;
			return (
				<path
					d={data.d}
					fill="currentColor"
					fill-opacity={data.opacity ?? 0.4}
					key={`path-${index}`}
				/>
			);
		})}
		{circles.map((circle, index) => (
			<circle
				key={`circle-${index}`}
				cx={circle.cx}
				cy={circle.cy}
				r={circle.r}
				fill="currentColor"
				fill-opacity={circle.opacity ?? 0.5}
			/>
		))}
		{strokes.map((stroke, index) => (
			<path
				key={`stroke-${index}`}
				d={stroke.d}
				stroke="currentColor"
				stroke-opacity={stroke.opacity ?? 0.5}
				stroke-width={stroke.strokeWidth ?? 1.5}
				stroke-linecap={stroke.strokeLinecap ?? "round"}
				stroke-linejoin={stroke.strokeLinejoin ?? "round"}
				stroke-dasharray={stroke.strokeDasharray}
				fill="none"
			/>
		))}
	</svg>
</figure>
<span class="sr-only">Decorative illustration for {title}</span>
